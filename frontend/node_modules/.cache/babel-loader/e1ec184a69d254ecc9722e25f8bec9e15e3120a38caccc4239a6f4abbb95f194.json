{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nasync function request(endpoint, options = {}) {\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.error || 'Request failed');\n  return data;\n}\nexport const identifyByName = name => request('/identify/by-name', {\n  method: 'POST',\n  body: JSON.stringify({\n    name\n  })\n});\nexport const identifyByImage = (image, mimeType) => request('/identify/by-image', {\n  method: 'POST',\n  body: JSON.stringify({\n    image,\n    mimeType\n  })\n});\nexport const generateCareGuide = (plantName, scientificName, plantId) => request('/care-guide/generate', {\n  method: 'POST',\n  body: JSON.stringify({\n    plantName,\n    scientificName,\n    plantId\n  })\n});\nexport const getUserPlants = userId => request(`/plants/user/${userId}`);\nexport const getPlant = plantId => request(`/plants/${plantId}`);\nexport const addPlant = plantData => request('/plants', {\n  method: 'POST',\n  body: JSON.stringify(plantData)\n});\nexport const deletePlant = plantId => request(`/plants/${plantId}`, {\n  method: 'DELETE'\n});\nexport const updatePlant = (plantId, updates) => request(`/plants/${plantId}`, {\n  method: 'PATCH',\n  body: JSON.stringify(updates)\n});\nexport const sendChatMessage = (plantId, message, userId) => request(`/chat/${plantId}/message`, {\n  method: 'POST',\n  body: JSON.stringify({\n    message,\n    userId\n  })\n});\nexport const getChatHistory = plantId => request(`/chat/${plantId}/history`);\nexport const getJournal = plantId => request(`/journal/${plantId}`);\nexport const addJournalEntry = entry => request('/journal', {\n  method: 'POST',\n  body: JSON.stringify(entry)\n});\nexport const deleteJournalEntry = entryId => request(`/journal/${entryId}`, {\n  method: 'DELETE'\n});\nexport const getNotifications = userId => request(`/notifications/user/${userId}`);\nexport const markNotificationRead = notifId => request(`/notifications/${notifId}/read`, {\n  method: 'PATCH'\n});\nexport const markAllNotificationsRead = userId => request(`/notifications/user/${userId}/read-all`, {\n  method: 'PATCH'\n});\nexport function fileToBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","request","endpoint","options","res","fetch","headers","data","json","ok","Error","error","identifyByName","name","method","body","JSON","stringify","identifyByImage","image","mimeType","generateCareGuide","plantName","scientificName","plantId","getUserPlants","userId","getPlant","addPlant","plantData","deletePlant","updatePlant","updates","sendChatMessage","message","getChatHistory","getJournal","addJournalEntry","entry","deleteJournalEntry","entryId","getNotifications","markNotificationRead","notifId","markAllNotificationsRead","fileToBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","split","onerror","readAsDataURL"],"sources":["/home/sncharanraj/GreenTick/frontend/src/lib/api.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nasync function request(endpoint, options = {}) {\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    headers: { 'Content-Type': 'application/json', ...options.headers },\n    ...options\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.error || 'Request failed');\n  return data;\n}\n\nexport const identifyByName = (name) => request('/identify/by-name', { method: 'POST', body: JSON.stringify({ name }) });\nexport const identifyByImage = (image, mimeType) => request('/identify/by-image', { method: 'POST', body: JSON.stringify({ image, mimeType }) });\nexport const generateCareGuide = (plantName, scientificName, plantId) => request('/care-guide/generate', { method: 'POST', body: JSON.stringify({ plantName, scientificName, plantId }) });\nexport const getUserPlants = (userId) => request(`/plants/user/${userId}`);\nexport const getPlant = (plantId) => request(`/plants/${plantId}`);\nexport const addPlant = (plantData) => request('/plants', { method: 'POST', body: JSON.stringify(plantData) });\nexport const deletePlant = (plantId) => request(`/plants/${plantId}`, { method: 'DELETE' });\nexport const updatePlant = (plantId, updates) => request(`/plants/${plantId}`, { method: 'PATCH', body: JSON.stringify(updates) });\nexport const sendChatMessage = (plantId, message, userId) => request(`/chat/${plantId}/message`, { method: 'POST', body: JSON.stringify({ message, userId }) });\nexport const getChatHistory = (plantId) => request(`/chat/${plantId}/history`);\nexport const getJournal = (plantId) => request(`/journal/${plantId}`);\nexport const addJournalEntry = (entry) => request('/journal', { method: 'POST', body: JSON.stringify(entry) });\nexport const deleteJournalEntry = (entryId) => request(`/journal/${entryId}`, { method: 'DELETE' });\nexport const getNotifications = (userId) => request(`/notifications/user/${userId}`);\nexport const markNotificationRead = (notifId) => request(`/notifications/${notifId}/read`, { method: 'PATCH' });\nexport const markAllNotificationsRead = (userId) => request(`/notifications/user/${userId}/read-all`, { method: 'PATCH' });\n\nexport function fileToBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}