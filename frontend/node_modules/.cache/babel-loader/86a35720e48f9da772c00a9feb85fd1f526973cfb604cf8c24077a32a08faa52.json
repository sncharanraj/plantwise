{"ast":null,"code":"import _objectSpread from\"/home/sncharanraj/GreenTick/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE=process.env.REACT_APP_API_URL||'http://localhost:5000/api';async function request(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const res=await fetch(\"\".concat(API_BASE).concat(endpoint),_objectSpread({headers:_objectSpread({'Content-Type':'application/json'},options.headers)},options));const data=await res.json();if(!res.ok)throw new Error(data.error||'Request failed');return data;}export const identifyByName=name=>request('/identify/by-name',{method:'POST',body:JSON.stringify({name})});export const identifyByImage=(image,mimeType)=>request('/identify/by-image',{method:'POST',body:JSON.stringify({image,mimeType})});export const generateCareGuide=(plantName,scientificName,plantId)=>request('/care-guide/generate',{method:'POST',body:JSON.stringify({plantName,scientificName,plantId})});export const getUserPlants=userId=>request(\"/plants/user/\".concat(userId));export const getPlant=plantId=>request(\"/plants/\".concat(plantId));export const addPlant=plantData=>request('/plants',{method:'POST',body:JSON.stringify(plantData)});export const deletePlant=plantId=>request(\"/plants/\".concat(plantId),{method:'DELETE'});export const updatePlant=(plantId,updates)=>request(\"/plants/\".concat(plantId),{method:'PATCH',body:JSON.stringify(updates)});export const sendChatMessage=(plantId,message,userId)=>request(\"/chat/\".concat(plantId,\"/message\"),{method:'POST',body:JSON.stringify({message,userId})});export const getChatHistory=plantId=>request(\"/chat/\".concat(plantId,\"/history\"));export const getJournal=plantId=>request(\"/journal/\".concat(plantId));export const addJournalEntry=entry=>request('/journal',{method:'POST',body:JSON.stringify(entry)});export const deleteJournalEntry=entryId=>request(\"/journal/\".concat(entryId),{method:'DELETE'});export const getNotifications=userId=>request(\"/notifications/user/\".concat(userId));export const markNotificationRead=notifId=>request(\"/notifications/\".concat(notifId,\"/read\"),{method:'PATCH'});export const markAllNotificationsRead=userId=>request(\"/notifications/user/\".concat(userId,\"/read-all\"),{method:'PATCH'});export function fileToBase64(file){return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=()=>resolve(reader.result.split(',')[1]);reader.onerror=reject;reader.readAsDataURL(file);});}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","request","endpoint","options","arguments","length","undefined","res","fetch","concat","_objectSpread","headers","data","json","ok","Error","error","identifyByName","name","method","body","JSON","stringify","identifyByImage","image","mimeType","generateCareGuide","plantName","scientificName","plantId","getUserPlants","userId","getPlant","addPlant","plantData","deletePlant","updatePlant","updates","sendChatMessage","message","getChatHistory","getJournal","addJournalEntry","entry","deleteJournalEntry","entryId","getNotifications","markNotificationRead","notifId","markAllNotificationsRead","fileToBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","split","onerror","readAsDataURL"],"sources":["/home/sncharanraj/GreenTick/frontend/src/lib/api.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nasync function request(endpoint, options = {}) {\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    headers: { 'Content-Type': 'application/json', ...options.headers },\n    ...options\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.error || 'Request failed');\n  return data;\n}\n\nexport const identifyByName = (name) => request('/identify/by-name', { method: 'POST', body: JSON.stringify({ name }) });\nexport const identifyByImage = (image, mimeType) => request('/identify/by-image', { method: 'POST', body: JSON.stringify({ image, mimeType }) });\nexport const generateCareGuide = (plantName, scientificName, plantId) => request('/care-guide/generate', { method: 'POST', body: JSON.stringify({ plantName, scientificName, plantId }) });\nexport const getUserPlants = (userId) => request(`/plants/user/${userId}`);\nexport const getPlant = (plantId) => request(`/plants/${plantId}`);\nexport const addPlant = (plantData) => request('/plants', { method: 'POST', body: JSON.stringify(plantData) });\nexport const deletePlant = (plantId) => request(`/plants/${plantId}`, { method: 'DELETE' });\nexport const updatePlant = (plantId, updates) => request(`/plants/${plantId}`, { method: 'PATCH', body: JSON.stringify(updates) });\nexport const sendChatMessage = (plantId, message, userId) => request(`/chat/${plantId}/message`, { method: 'POST', body: JSON.stringify({ message, userId }) });\nexport const getChatHistory = (plantId) => request(`/chat/${plantId}/history`);\nexport const getJournal = (plantId) => request(`/journal/${plantId}`);\nexport const addJournalEntry = (entry) => request('/journal', { method: 'POST', body: JSON.stringify(entry) });\nexport const deleteJournalEntry = (entryId) => request(`/journal/${entryId}`, { method: 'DELETE' });\nexport const getNotifications = (userId) => request(`/notifications/user/${userId}`);\nexport const markNotificationRead = (notifId) => request(`/notifications/${notifId}/read`, { method: 'PATCH' });\nexport const markAllNotificationsRead = (userId) => request(`/notifications/user/${userId}/read-all`, { method: 'PATCH' });\n\nexport function fileToBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n"],"mappings":"yHAAA,KAAM,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,2BAA2B,CAE7E,cAAe,CAAAC,OAAOA,CAACC,QAAQ,CAAgB,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC3C,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIZ,QAAQ,EAAAY,MAAA,CAAGP,QAAQ,EAAAQ,aAAA,EAC5CC,OAAO,CAAAD,aAAA,EAAI,cAAc,CAAE,kBAAkB,EAAKP,OAAO,CAACQ,OAAO,CAAE,EAChER,OAAO,CACX,CAAC,CACF,KAAM,CAAAS,IAAI,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,CAAC,CAC7B,GAAI,CAACN,GAAG,CAACO,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAACH,IAAI,CAACI,KAAK,EAAI,gBAAgB,CAAC,CAC5D,MAAO,CAAAJ,IAAI,CACb,CAEA,MAAO,MAAM,CAAAK,cAAc,CAAIC,IAAI,EAAKjB,OAAO,CAAC,mBAAmB,CAAE,CAAEkB,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEJ,IAAK,CAAC,CAAE,CAAC,CAAC,CACxH,MAAO,MAAM,CAAAK,eAAe,CAAGA,CAACC,KAAK,CAAEC,QAAQ,GAAKxB,OAAO,CAAC,oBAAoB,CAAE,CAAEkB,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEE,KAAK,CAAEC,QAAS,CAAC,CAAE,CAAC,CAAC,CAChJ,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAACC,SAAS,CAAEC,cAAc,CAAEC,OAAO,GAAK5B,OAAO,CAAC,sBAAsB,CAAE,CAAEkB,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEK,SAAS,CAAEC,cAAc,CAAEC,OAAQ,CAAC,CAAE,CAAC,CAAC,CAC1L,MAAO,MAAM,CAAAC,aAAa,CAAIC,MAAM,EAAK9B,OAAO,iBAAAQ,MAAA,CAAiBsB,MAAM,CAAE,CAAC,CAC1E,MAAO,MAAM,CAAAC,QAAQ,CAAIH,OAAO,EAAK5B,OAAO,YAAAQ,MAAA,CAAYoB,OAAO,CAAE,CAAC,CAClE,MAAO,MAAM,CAAAI,QAAQ,CAAIC,SAAS,EAAKjC,OAAO,CAAC,SAAS,CAAE,CAAEkB,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACY,SAAS,CAAE,CAAC,CAAC,CAC9G,MAAO,MAAM,CAAAC,WAAW,CAAIN,OAAO,EAAK5B,OAAO,YAAAQ,MAAA,CAAYoB,OAAO,EAAI,CAAEV,MAAM,CAAE,QAAS,CAAC,CAAC,CAC3F,MAAO,MAAM,CAAAiB,WAAW,CAAGA,CAACP,OAAO,CAAEQ,OAAO,GAAKpC,OAAO,YAAAQ,MAAA,CAAYoB,OAAO,EAAI,CAAEV,MAAM,CAAE,OAAO,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACe,OAAO,CAAE,CAAC,CAAC,CAClI,MAAO,MAAM,CAAAC,eAAe,CAAGA,CAACT,OAAO,CAAEU,OAAO,CAAER,MAAM,GAAK9B,OAAO,UAAAQ,MAAA,CAAUoB,OAAO,aAAY,CAAEV,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEiB,OAAO,CAAER,MAAO,CAAC,CAAE,CAAC,CAAC,CAC/J,MAAO,MAAM,CAAAS,cAAc,CAAIX,OAAO,EAAK5B,OAAO,UAAAQ,MAAA,CAAUoB,OAAO,YAAU,CAAC,CAC9E,MAAO,MAAM,CAAAY,UAAU,CAAIZ,OAAO,EAAK5B,OAAO,aAAAQ,MAAA,CAAaoB,OAAO,CAAE,CAAC,CACrE,MAAO,MAAM,CAAAa,eAAe,CAAIC,KAAK,EAAK1C,OAAO,CAAC,UAAU,CAAE,CAAEkB,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACqB,KAAK,CAAE,CAAC,CAAC,CAC9G,MAAO,MAAM,CAAAC,kBAAkB,CAAIC,OAAO,EAAK5C,OAAO,aAAAQ,MAAA,CAAaoC,OAAO,EAAI,CAAE1B,MAAM,CAAE,QAAS,CAAC,CAAC,CACnG,MAAO,MAAM,CAAA2B,gBAAgB,CAAIf,MAAM,EAAK9B,OAAO,wBAAAQ,MAAA,CAAwBsB,MAAM,CAAE,CAAC,CACpF,MAAO,MAAM,CAAAgB,oBAAoB,CAAIC,OAAO,EAAK/C,OAAO,mBAAAQ,MAAA,CAAmBuC,OAAO,UAAS,CAAE7B,MAAM,CAAE,OAAQ,CAAC,CAAC,CAC/G,MAAO,MAAM,CAAA8B,wBAAwB,CAAIlB,MAAM,EAAK9B,OAAO,wBAAAQ,MAAA,CAAwBsB,MAAM,cAAa,CAAEZ,MAAM,CAAE,OAAQ,CAAC,CAAC,CAE1H,MAAO,SAAS,CAAA+B,YAAYA,CAACC,IAAI,CAAE,CACjC,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAG,IAAMJ,OAAO,CAACE,MAAM,CAACG,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1DJ,MAAM,CAACK,OAAO,CAAGN,MAAM,CACvBC,MAAM,CAACM,aAAa,CAACV,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}